//===----------------------------------------------------------------------===//
//
// Part of the Viper project, under the GNU GPL v3.
// See LICENSE for license information.
//
//===----------------------------------------------------------------------===//
//
// IMPORTANT: This file is auto-generated. Do not edit manually.
//
// File: vm/ops/generated/OpSchema.hpp
// Purpose: Compile-time opcode schema table for VM dispatch. Contains metadata
//          for each IL opcode including mnemonic string, result arity, operand
//          types, side effect flags, successor count, terminator status, and
//          handler availability. Used by VM dispatch and introspection APIs.
//
// Source of Truth: il/core/Opcode.def (X-macro opcode definitions)
// Generator: Manually maintained (synchronized with Opcode enum).
// Regenerate: Update when adding/removing opcodes in il/core/Opcode.def.
//             See docs/generated-files.md for full instructions.
//
// Key invariants: Table size MUST equal il::core::kNumOpcodes. Entry order
//                 MUST match Opcode enum declaration order exactly.
// Ownership/Lifetime: Static constexpr data; no dynamic allocation.
// Links: docs/generated-files.md, il/core/Opcode.hpp
//
//===----------------------------------------------------------------------===//

#pragma once

#include "il/core/OpcodeInfo.hpp"
#include <array>
#include <cstdint>

namespace il::vm::generated
{
/// @brief Compile-time metadata for a single IL opcode used by VM dispatch and introspection.
struct OpSchemaEntry
{
    const char *mnemonic; ///< @brief Human-readable opcode name (e.g., "add", "br").
    il::core::ResultArity
        resultArity; ///< @brief Number of result values produced (None, One, Optional).
    il::core::TypeCategory resultType; ///< @brief Type category of the result value.
    uint8_t operandMin;                ///< @brief Minimum number of operands required.
    uint8_t operandMax; ///< @brief Maximum number of operands accepted (variadic if high).
    std::array<il::core::TypeCategory, 3>
        operandTypes;    ///< @brief Type categories for the first three operands.
    bool hasSideEffects; ///< @brief True when the opcode may produce observable side effects.
    uint8_t successors;  ///< @brief Number of successor basic blocks (0 for non-terminators).
    bool terminator;     ///< @brief True when the opcode terminates its basic block.
    il::core::VMDispatch dispatch; ///< @brief Dispatch tag mapping to the handler implementation.
    bool hasHandler; ///< @brief True when a VM handler is implemented for this opcode.
};

inline constexpr std::array<OpSchemaEntry, il::core::kNumOpcodes> kOpSchema = {
    {
        {
            "add",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Add,
            true,
        },
        {
            "sub",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Sub,
            true,
        },
        {
            "mul",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Mul,
            true,
        },
        {
            "iadd.ovf",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::IAddOvf,
            true,
        },
        {
            "isub.ovf",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ISubOvf,
            true,
        },
        {
            "imul.ovf",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::IMulOvf,
            true,
        },
        {
            "sdiv",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SDiv,
            true,
        },
        {
            "udiv",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::UDiv,
            true,
        },
        {
            "srem",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SRem,
            true,
        },
        {
            "urem",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::URem,
            true,
        },
        {
            "sdiv.chk0",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SDivChk0,
            true,
        },
        {
            "udiv.chk0",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::UDivChk0,
            true,
        },
        {
            "srem.chk0",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SRemChk0,
            true,
        },
        {
            "urem.chk0",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::URemChk0,
            true,
        },
        {
            "idx.chk",
            il::core::ResultArity::One,
            il::core::TypeCategory::InstrType,
            static_cast<uint8_t>(3),
            static_cast<uint8_t>(3),
            {il::core::TypeCategory::Dynamic,
             il::core::TypeCategory::Dynamic,
             il::core::TypeCategory::Dynamic},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::IdxChk,
            true,
        },
        {
            "and",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::And,
            true,
        },
        {
            "or",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Or,
            true,
        },
        {
            "xor",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Xor,
            true,
        },
        {
            "shl",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Shl,
            true,
        },
        {
            "lshr",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::LShr,
            true,
        },
        {
            "ashr",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::AShr,
            true,
        },
        {
            "fadd",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FAdd,
            true,
        },
        {
            "fsub",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FSub,
            true,
        },
        {
            "fmul",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FMul,
            true,
        },
        {
            "fdiv",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FDiv,
            true,
        },
        {
            "icmp_eq",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ICmpEq,
            true,
        },
        {
            "icmp_ne",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ICmpNe,
            true,
        },
        {
            "scmp_lt",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SCmpLT,
            true,
        },
        {
            "scmp_le",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SCmpLE,
            true,
        },
        {
            "scmp_gt",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SCmpGT,
            true,
        },
        {
            "scmp_ge",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::SCmpGE,
            true,
        },
        {
            "ucmp_lt",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::UCmpLT,
            true,
        },
        {
            "ucmp_le",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::UCmpLE,
            true,
        },
        {
            "ucmp_gt",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::UCmpGT,
            true,
        },
        {
            "ucmp_ge",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::UCmpGE,
            true,
        },
        {
            "fcmp_eq",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpEQ,
            true,
        },
        {
            "fcmp_ne",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpNE,
            true,
        },
        {
            "fcmp_lt",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpLT,
            true,
        },
        {
            "fcmp_le",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpLE,
            true,
        },
        {
            "fcmp_gt",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpGT,
            true,
        },
        {
            "fcmp_ge",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpGE,
            true,
        },
        {
            "fcmp_ord",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpOrd,
            true,
        },
        {
            "fcmp_uno",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::F64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::FCmpUno,
            true,
        },
        {
            "sitofp",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Sitofp,
            true,
        },
        {
            "fptosi",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Fptosi,
            true,
        },
        {
            "cast.fp_to_si.rte.chk",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::CastFpToSiRteChk,
            true,
        },
        {
            "cast.fp_to_ui.rte.chk",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::CastFpToUiRteChk,
            true,
        },
        {
            "cast.si_narrow.chk",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::CastSiNarrowChk,
            true,
        },
        {
            "cast.ui_narrow.chk",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::CastUiNarrowChk,
            true,
        },
        {
            "cast.si_to_fp",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::CastSiToFp,
            true,
        },
        {
            "cast.ui_to_fp",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::CastUiToFp,
            true,
        },
        {
            "zext1",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I1,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::TruncOrZext1,
            true,
        },
        {
            "trunc1",
            il::core::ResultArity::One,
            il::core::TypeCategory::I1,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::TruncOrZext1,
            true,
        },
        {
            "alloca",
            il::core::ResultArity::One,
            il::core::TypeCategory::Ptr,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Alloca,
            true,
        },
        {
            "gep",
            il::core::ResultArity::One,
            il::core::TypeCategory::Ptr,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::Ptr,
             il::core::TypeCategory::I64,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::GEP,
            true,
        },
        {
            "load",
            il::core::ResultArity::One,
            il::core::TypeCategory::InstrType,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Ptr,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Load,
            true,
        },
        {
            "store",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::Ptr,
             il::core::TypeCategory::InstrType,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Store,
            true,
        },
        {
            "addr_of",
            il::core::ResultArity::One,
            il::core::TypeCategory::Ptr,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Ptr,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::AddrOf,
            true,
        },
        {
            "const_str",
            il::core::ResultArity::One,
            il::core::TypeCategory::Str,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Ptr,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ConstStr,
            true,
        },
        {
            "gaddr",
            il::core::ResultArity::One,
            il::core::TypeCategory::Ptr,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Ptr,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::GAddr,
            true,
        },
        {
            "const_null",
            il::core::ResultArity::One,
            il::core::TypeCategory::Ptr,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(0),
            {il::core::TypeCategory::None,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ConstNull,
            true,
        },
        {
            "const.f64",
            il::core::ResultArity::One,
            il::core::TypeCategory::F64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::F64,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ConstF64,
            true,
        },
        {
            "call",
            il::core::ResultArity::Optional,
            il::core::TypeCategory::Dynamic,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(il::core::kVariadicOperandCount),
            {il::core::TypeCategory::Any, il::core::TypeCategory::Any, il::core::TypeCategory::Any},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::Call,
            true,
        },
        {
            "call.indirect",
            il::core::ResultArity::Optional,
            il::core::TypeCategory::Dynamic,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(il::core::kVariadicOperandCount),
            {il::core::TypeCategory::Any, il::core::TypeCategory::Any, il::core::TypeCategory::Any},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::CallIndirect,
            true,
        },
        {
            "switch.i32",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(il::core::kVariadicOperandCount),
            {il::core::TypeCategory::I32,
             il::core::TypeCategory::I32,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(il::core::kVariadicOperandCount),
            true,
            il::core::VMDispatch::SwitchI32,
            true,
        },
        {
            "br",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(0),
            {il::core::TypeCategory::None,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(1),
            true,
            il::core::VMDispatch::Br,
            true,
        },
        {
            "cbr",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I1,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(2),
            true,
            il::core::VMDispatch::CBr,
            true,
        },
        {
            "ret",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Any,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            true,
            il::core::VMDispatch::Ret,
            true,
        },
        {
            "trap.kind",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(0),
            {il::core::TypeCategory::None,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::TrapKindRead,
            true,
        },
        {
            "trap.from_err",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::I32,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            true,
            il::core::VMDispatch::TrapFromErr,
            true,
        },
        {
            "trap.err",
            il::core::ResultArity::One,
            il::core::TypeCategory::Error,
            static_cast<uint8_t>(2),
            static_cast<uint8_t>(2),
            {il::core::TypeCategory::I32,
             il::core::TypeCategory::Str,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::TrapErrMake,
            true,
        },
        {
            "err.get_kind",
            il::core::ResultArity::One,
            il::core::TypeCategory::I32,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Error,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ErrGet,
            true,
        },
        {
            "err.get_code",
            il::core::ResultArity::One,
            il::core::TypeCategory::I32,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Error,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ErrGet,
            true,
        },
        {
            "err.get_ip",
            il::core::ResultArity::One,
            il::core::TypeCategory::I64,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Error,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ErrGet,
            true,
        },
        {
            "err.get_line",
            il::core::ResultArity::One,
            il::core::TypeCategory::I32,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::Error,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            false,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::ErrGet,
            true,
        },
        {
            "eh.push",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(0),
            {il::core::TypeCategory::None,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(1),
            false,
            il::core::VMDispatch::EhPush,
            true,
        },
        {
            "eh.pop",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(0),
            {il::core::TypeCategory::None,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::EhPop,
            true,
        },
        {
            "resume.same",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::ResumeTok,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            true,
            il::core::VMDispatch::ResumeSame,
            true,
        },
        {
            "resume.next",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::ResumeTok,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            true,
            il::core::VMDispatch::ResumeNext,
            true,
        },
        {
            "resume.label",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(1),
            static_cast<uint8_t>(1),
            {il::core::TypeCategory::ResumeTok,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(1),
            true,
            il::core::VMDispatch::ResumeLabel,
            true,
        },
        {
            "eh.entry",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(0),
            {il::core::TypeCategory::None,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            false,
            il::core::VMDispatch::EhEntry,
            true,
        },
        {
            "trap",
            il::core::ResultArity::None,
            il::core::TypeCategory::None,
            static_cast<uint8_t>(0),
            static_cast<uint8_t>(0),
            {il::core::TypeCategory::None,
             il::core::TypeCategory::None,
             il::core::TypeCategory::None},
            true,
            static_cast<uint8_t>(0),
            true,
            il::core::VMDispatch::Trap,
            true,
        },
    },
};

/// @brief Look up the compile-time schema entry for a given opcode.
/// @param op Opcode whose metadata is requested.
/// @return Reference to the corresponding OpSchemaEntry in the static table.
inline constexpr const OpSchemaEntry &schema(il::core::Opcode op)
{
    return kOpSchema[static_cast<size_t>(op)];
}
} // namespace il::vm::generated
