module TestListOps;

// Test: List operations

func start() {
    Viper.Terminal.Say("=== List Operations Test ===");

    var list: Ptr = Viper.Collections.List.New();
    Viper.Collections.List.Add(list, 100);
    Viper.Collections.List.Add(list, 200);

    var count: Integer = Viper.Collections.List.get_Count(list);
    Viper.Terminal.Say("Count: " + Viper.String.FromInt(count));

    var v0: Integer = Viper.Box.ToI64(Viper.Collections.List.get_Item(list, 0));
    var v1: Integer = Viper.Box.ToI64(Viper.Collections.List.get_Item(list, 1));

    Viper.Terminal.Say("v0 = " + Viper.String.FromInt(v0));
    Viper.Terminal.Say("v1 = " + Viper.String.FromInt(v1));

    if (count == 2 && v0 == 100 && v1 == 200) {
        Viper.Terminal.Say("RESULT: ok");
    } else {
        Viper.Terminal.Say("RESULT: fail");
    }
}
