module TestSeq;

// Test: Seq collection

func start() {
    Viper.Terminal.Say("=== Seq Collection Test ===");

    var arr: Ptr = Viper.Collections.Seq.New(5);
    Viper.Collections.Seq.Set(arr, 0, 10);
    Viper.Collections.Seq.Set(arr, 1, 20);
    Viper.Collections.Seq.Set(arr, 2, 30);

    var v0: Integer = Viper.Box.ToI64(Viper.Collections.Seq.Get(arr, 0));
    var v1: Integer = Viper.Box.ToI64(Viper.Collections.Seq.Get(arr, 1));
    var v2: Integer = Viper.Box.ToI64(Viper.Collections.Seq.Get(arr, 2));

    Viper.Terminal.Say("v0 = " + Viper.String.FromInt(v0));
    Viper.Terminal.Say("v1 = " + Viper.String.FromInt(v1));
    Viper.Terminal.Say("v2 = " + Viper.String.FromInt(v2));

    if (v0 == 10 && v1 == 20 && v2 == 30) {
        Viper.Terminal.Say("RESULT: ok");
    } else {
        Viper.Terminal.Say("RESULT: fail");
    }
}
