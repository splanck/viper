module TestEntitySimple;

// Test: Simple entity

entity Point {
    expose Integer x;
    expose Integer y;

    expose func init(px: Integer, py: Integer) {
        x = px;
        y = py;
    }

    expose func getSum() -> Integer {
        return x + y;
    }
}

func start() {
    Viper.Terminal.Say("=== Entity Simple Test ===");

    var p: Point = new Point(10, 20);
    Viper.Terminal.Say("x = " + Viper.Strings.FromInt(p.x));
    Viper.Terminal.Say("y = " + Viper.Strings.FromInt(p.y));
    Viper.Terminal.Say("sum = " + Viper.Strings.FromInt(p.getSum()));

    if (p.x == 10 && p.y == 20 && p.getSum() == 30) {
        Viper.Terminal.Say("RESULT: ok");
    } else {
        Viper.Terminal.Say("RESULT: fail");
    }
}
