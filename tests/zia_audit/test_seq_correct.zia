module Test;

// Test: Seq with correct boxing

func start() {
    Viper.Terminal.Say("=== Seq Correct Test ===");

    var arr = Viper.Collections.Seq.New(5);
    Viper.Terminal.Say("Created seq");

    Viper.Collections.Seq.Set(arr, 0, Viper.Box.I64(10));
    Viper.Collections.Seq.Set(arr, 1, Viper.Box.I64(20));

    var v0 = Viper.Box.ToI64(Viper.Collections.Seq.Get(arr, 0));
    var v1 = Viper.Box.ToI64(Viper.Collections.Seq.Get(arr, 1));

    Viper.Terminal.Say("v0 = " + Viper.Strings.FromInt(v0));
    Viper.Terminal.Say("v1 = " + Viper.Strings.FromInt(v1));

    if (v0 == 10 && v1 == 20) {
        Viper.Terminal.Say("RESULT: ok");
    } else {
        Viper.Terminal.Say("RESULT: fail");
    }
}
