module GateDemo;
bind Viper.Terminal;
func start() {
    Say("=== Viper.Threads.Gate Demo ===");
    var g = new Viper.Threads.Gate(3);
    SayInt(g.Permits);
    SayBool(g.TryEnter());
    SayInt(g.Permits);
    g.Leave();
    SayInt(g.Permits);
    Say("done");
}
